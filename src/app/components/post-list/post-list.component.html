<div class="card-columns">
	<article class="card w-100" *ngFor="let post of posts">
		<div class="card-header">
			<h3>
				<a [routerLink]="['/entrada',post.id]">{{post.title}} </a>
			</h3>
		</div>
		<div class="card-body" >
			<!--imagen-->
			<div class="post-image w-100" *ngIf="post.image">
				<img src="{{url+'post/image/'+post.image}}" class="w-100">
			</div>
			
			<div class="post-image w-100" *ngIf="!post.image">
				<img src="assets/images/default.png" class="w-100">
			</div>

			<!-- botones de accion-->	
			<div class="post-buttons mt-3" >
				<a [routerLink]="['/entrada',post.id]" class="btn btn-success mr-2">Leer</a>
				<span *ngIf="identity && identity.sub == post.user_id">
					<a [routerLink]="['/editar-entrada',post.id]" class="btn btn-warning mr-2">Editar</a>
					
					<!-- Trigger the modal with a button -->
					<button type="button" class="btn btn-danger" data-toggle="modal" [attr.data-target]="'#myModal'+post.id">Borrar</button>

					<!-- Modal -->
					<div id="{{'myModal'+post.id}}" class="modal fade" role="dialog">
					  <div class="modal-dialog">

					    <!-- Modal content-->
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal">&times;</button>
					        <h4 class="modal-title">Â¿Seguro que quieres borrar esta entrada?</h4>
					      </div>
					      <div class="modal-body">
					        <p>Borraras definitiva e irreversiblamente esta entrada: {{post.title}}</p>
					      </div>
					      <div class="modal-footer">
					      	<a (click)="deletePost(post.id)" class="btn btn-danger" data-dismiss="modal">Borrar</a>

					        <button type="button" class="btn btn-warning" data-dismiss="modal">Cancelar</button>
					      </div>
					    </div>

					  </div>
					</div>
					<!--fin modal boostrap-->						
				</span>

			</div>

			<!-- Tabla para colocar categoria y posteador -->
			<div>
			  <table class="footer-table">
			    <td class="byCategoria"> 
			    	<a  [routerLink]="['/categoria',post.category.id]">{{post.category.name}}</a>
			    </td>
			    <td class="byUser"> 
			    	<a [routerLink]="['/perfil',post.user.id]">by {{post.user.name+' '+post.user.surname}}</a>
			    </td>
			  </table>
			</div>
			
		</div>
	</article>
</div>
